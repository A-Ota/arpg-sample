(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26ac0eec"],{"159b":function(t,e,r){var a=r("da84"),n=r("fdbc"),i=r("17c2"),o=r("9112");for(var c in n){var s=a[c],u=s&&s.prototype;if(u&&u.forEach!==i)try{o(u,"forEach",i)}catch(h){u.forEach=i}}},"17c2":function(t,e,r){"use strict";var a=r("b727").forEach,n=r("a640"),i=r("ae40"),o=n("forEach"),c=i("forEach");t.exports=o&&c?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},"26ff":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{position:"relative"}},[r("div",{ref:"pixi_area",staticStyle:{position:"absolute",width:"320px",height:"240px"}}),r("div",{staticStyle:{position:"absolute",left:"10px",top:"10px","background-color":"#0000ff66",color:"#fff"}},[t._v("矢印キーで移動")])])},n=[];r("99af"),r("4160"),r("d3b7"),r("6062"),r("3ca3"),r("18a5"),r("159b"),r("ddb0"),r("277d");function i(t){if(Array.isArray(t))return t}r("a4d3"),r("e01a"),r("d28b");function o(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var r=[],a=!0,n=!1,i=void 0;try{for(var o,c=t[Symbol.iterator]();!(a=(o=c.next()).done);a=!0)if(r.push(o.value),e&&r.length===e)break}catch(s){n=!0,i=s}finally{try{a||null==c["return"]||c["return"]()}finally{if(n)throw i}}return r}}r("a630"),r("fb6a"),r("0d03"),r("b0c0"),r("25f0");function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function s(t,e){if(t){if("string"===typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(t,e){return i(t)||o(t,e)||s(t,e)||u()}var d=r("d4ec"),f=r("bee2"),l=r("257e"),p=r("262e"),v=r("2caf"),y=r("2b0e"),b=r("22a2"),m=function(t){Object(p["a"])(r,t);var e=Object(v["a"])(r);function r(t,a){var n;return Object(d["a"])(this,r),n=e.call(this),n.sheet=t,n.routine=a,n.animationFrame=0,n._currentDirection=2,n.animationStep=0,a.character=Object(l["a"])(n),n.body=new b["f"](t.textures["character-2-0"]),n.body.anchor.set(.5,.5),n.addChild(n.body),n.shadow=new b["c"],n.shadow.lineStyle(0),n.shadow.beginFill(0,1),n.shadow.drawEllipse(0,28,16,10),n.shadow.endFill(),n.shadow.alpha=.5,n.addChildAt(n.shadow,0),n}return Object(f["a"])(r,[{key:"currentDirection",get:function(){return this._currentDirection},set:function(t){this._currentDirection=t,this.syncTexture()}},{key:"syncTexture",value:function(){this.body.texture=this.sheet.textures["character-".concat(this.currentDirection,"-").concat(3===this.animationStep?1:this.animationStep)]}},{key:"update",value:function(){this.routine.update(),this.zIndex=this.position.y,++this.animationFrame,this.animationFrame>30&&(this.animationFrame=0,this.animationStep=(this.animationStep+1)%4,this.syncTexture())}}]),r}(b["b"]),g=function t(){Object(d["a"])(this,t)},w=37,S=38,C=39,x=40,O=function(t,e){var r=.7*e;switch(t){case 1:return[-r,r];case 2:return[0,e];case 3:return[r,r];case 4:return[-e,0];case 6:return[e,0];case 7:return[-r,-r];case 8:return[0,-e];case 9:return[r,-r]}return[0,0]},j=function(t){Object(p["a"])(r,t);var e=Object(v["a"])(r);function r(t){var a;return Object(d["a"])(this,r),a=e.call(this),a.pressedKeyCodeSet=t,a}return Object(f["a"])(r,[{key:"update",value:function(){var t=null;if(this.pressedKeyCodeSet.has(w)?t=this.pressedKeyCodeSet.has(x)?1:this.pressedKeyCodeSet.has(S)?7:4:this.pressedKeyCodeSet.has(C)?t=this.pressedKeyCodeSet.has(x)?3:this.pressedKeyCodeSet.has(S)?9:6:this.pressedKeyCodeSet.has(S)?t=8:this.pressedKeyCodeSet.has(x)&&(t=2),null!=t){this.character.currentDirection=t;var e=O(this.character.currentDirection,1),r=h(e,2),a=r[0],n=r[1];this.character.position.x+=a,this.character.position.y+=n}}}]),r}(g),A=function(t){Object(p["a"])(r,t);var e=Object(v["a"])(r);function r(){var t,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60;return Object(d["a"])(this,r),t=e.call(this),t.isMoving=a,t.frameCountToWait=n,t.frameCountToMove=i,t}return Object(f["a"])(r,[{key:"update",value:function(){if(this.isMoving){var t=O(this.character.currentDirection,.6),e=h(t,2),r=e[0],a=e[1];this.character.position.x+=r,this.character.position.y+=a,--this.frameCountToWait,this.frameCountToWait<=0&&(this.frameCountToWait=0,this.frameCountToMove=60+30*Math.floor(3*Math.random()),this.isMoving=!1)}else--this.frameCountToMove,this.frameCountToMove<=0&&(this.frameCountToMove=0,this.frameCountToWait=60,this.character.currentDirection=[1,2,3,4,6,7,8,9][Math.floor(8*Math.random())],this.isMoving=!0)}}]),r}(g),E=y["default"].extend({data:function(){return{characters:[],pressedKeyCodeSet:new Set}},mounted:function(){var t=this;b["h"].RESOLUTION=window.devicePixelRatio,b["h"].SCALE_MODE=b["e"].NEAREST,window.onkeydown=this.onKeyDown,window.onkeyup=this.onKeyUp;var e={width:320,height:240},r=new b["a"](e),a=this.$refs["pixi_area"];a.appendChild(r.view),r.stage.sortableChildren=!0;var n=new b["f"](b["g"].WHITE);n.width=320,n.height=240,n.tint=13421772,r.stage.addChild(n),b["d"].shared.reset().add("/arpg-sample/images/chara01.json").add("/arpg-sample/images/chara02.json").load((function(){var e=new m(b["d"].shared.resources["/arpg-sample/images/chara01.json"].spritesheet,new j(t.pressedKeyCodeSet));e.position.set(180,110),r.stage.addChild(e),t.characters.push(e);var a=new m(b["d"].shared.resources["/arpg-sample/images/chara02.json"].spritesheet,new A);a.position.set(140,90),r.stage.addChild(a),t.characters.push(a)})),r.ticker.add((function(e){t.characters.forEach((function(t){return t.update()}))}))},methods:{onKeyDown:function(t){this.pressedKeyCodeSet.add(t.keyCode)},onKeyUp:function(t){this.pressedKeyCodeSet["delete"](t.keyCode)}},components:{},computed:{},props:[]}),K=E,T=r("2877"),M=Object(T["a"])(K,a,n,!1,null,"a18caa0c",null);e["default"]=M.exports},"277d":function(t,e,r){var a=r("23e7"),n=r("e8b5");a({target:"Array",stat:!0},{isArray:n})},4160:function(t,e,r){"use strict";var a=r("23e7"),n=r("17c2");a({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},"4df4":function(t,e,r){"use strict";var a=r("0366"),n=r("7b0b"),i=r("9bdd"),o=r("e95a"),c=r("50c4"),s=r("8418"),u=r("35a1");t.exports=function(t){var e,r,h,d,f,l,p=n(t),v="function"==typeof this?this:Array,y=arguments.length,b=y>1?arguments[1]:void 0,m=void 0!==b,g=u(p),w=0;if(m&&(b=a(b,y>2?arguments[2]:void 0,2)),void 0==g||v==Array&&o(g))for(e=c(p.length),r=new v(e);e>w;w++)l=m?b(p[w],w):p[w],s(r,w,l);else for(d=g.call(p),f=d.next,r=new v;!(h=f.call(d)).done;w++)l=m?i(d,b,[h.value,w],!0):h.value,s(r,w,l);return r.length=w,r}},"9bdd":function(t,e,r){var a=r("825a"),n=r("2a62");t.exports=function(t,e,r,i){try{return i?e(a(r)[0],r[1]):e(r)}catch(o){throw n(t),o}}},a630:function(t,e,r){var a=r("23e7"),n=r("4df4"),i=r("1c7e"),o=!i((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:o},{from:n})},a640:function(t,e,r){"use strict";var a=r("d039");t.exports=function(t,e){var r=[][t];return!!r&&a((function(){r.call(null,e||function(){throw 1},1)}))}},ae40:function(t,e,r){var a=r("83ab"),n=r("d039"),i=r("5135"),o=Object.defineProperty,c={},s=function(t){throw t};t.exports=function(t,e){if(i(c,t))return c[t];e||(e={});var r=[][t],u=!!i(e,"ACCESSORS")&&e.ACCESSORS,h=i(e,0)?e[0]:s,d=i(e,1)?e[1]:void 0;return c[t]=!!r&&!n((function(){if(u&&!a)return!0;var t={length:-1};u?o(t,1,{enumerable:!0,get:s}):t[1]=1,r.call(t,h,d)}))}},b0c0:function(t,e,r){var a=r("83ab"),n=r("9bf2").f,i=Function.prototype,o=i.toString,c=/^\s*function ([^ (]*)/,s="name";a&&!(s in i)&&n(i,s,{configurable:!0,get:function(){try{return o.call(this).match(c)[1]}catch(t){return""}}})},fb6a:function(t,e,r){"use strict";var a=r("23e7"),n=r("861d"),i=r("e8b5"),o=r("23cb"),c=r("50c4"),s=r("fc6a"),u=r("8418"),h=r("b622"),d=r("1dde"),f=r("ae40"),l=d("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),v=h("species"),y=[].slice,b=Math.max;a({target:"Array",proto:!0,forced:!l||!p},{slice:function(t,e){var r,a,h,d=s(this),f=c(d.length),l=o(t,f),p=o(void 0===e?f:e,f);if(i(d)&&(r=d.constructor,"function"!=typeof r||r!==Array&&!i(r.prototype)?n(r)&&(r=r[v],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return y.call(d,l,p);for(a=new(void 0===r?Array:r)(b(p-l,0)),h=0;l<p;l++,h++)l in d&&u(a,h,d[l]);return a.length=h,a}})}}]);
//# sourceMappingURL=chunk-26ac0eec.aed28e98.js.map