(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-250b4a3b"],{"159b":function(t,e,r){var a=r("da84"),i=r("fdbc"),n=r("17c2"),o=r("9112");for(var c in i){var s=a[c],d=s&&s.prototype;if(d&&d.forEach!==n)try{o(d,"forEach",n)}catch(h){d.forEach=n}}},"17c2":function(t,e,r){"use strict";var a=r("b727").forEach,i=r("a640"),n=r("ae40"),o=i("forEach"),c=n("forEach");t.exports=o&&c?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},"277d":function(t,e,r){var a=r("23e7"),i=r("e8b5");a({target:"Array",stat:!0},{isArray:i})},3835:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));r("277d");function a(t){if(Array.isArray(t))return t}r("a4d3"),r("e01a"),r("d28b"),r("d3b7"),r("3ca3"),r("ddb0");function i(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var r=[],a=!0,i=!1,n=void 0;try{for(var o,c=t[Symbol.iterator]();!(a=(o=c.next()).done);a=!0)if(r.push(o.value),e&&r.length===e)break}catch(s){i=!0,n=s}finally{try{a||null==c["return"]||c["return"]()}finally{if(i)throw n}}return r}}r("a630"),r("fb6a"),r("0d03"),r("b0c0"),r("25f0");function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function o(t,e){if(t){if("string"===typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,e){return a(t)||i(t,e)||o(t,e)||c()}},4160:function(t,e,r){"use strict";var a=r("23e7"),i=r("17c2");a({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"4df4":function(t,e,r){"use strict";var a=r("0366"),i=r("7b0b"),n=r("9bdd"),o=r("e95a"),c=r("50c4"),s=r("8418"),d=r("35a1");t.exports=function(t){var e,r,h,u,f,l,p=i(t),v="function"==typeof this?this:Array,m=arguments.length,y=m>1?arguments[1]:void 0,b=void 0!==y,C=d(p),g=0;if(b&&(y=a(y,m>2?arguments[2]:void 0,2)),void 0==C||v==Array&&o(C))for(e=c(p.length),r=new v(e);e>g;g++)l=b?y(p[g],g):p[g],s(r,g,l);else for(u=C.call(p),f=u.next,r=new v;!(h=f.call(u)).done;g++)l=b?n(u,y,[h.value,g],!0):h.value,s(r,g,l);return r.length=g,r}},"99af":function(t,e,r){"use strict";var a=r("23e7"),i=r("d039"),n=r("e8b5"),o=r("861d"),c=r("7b0b"),s=r("50c4"),d=r("8418"),h=r("65f0"),u=r("1dde"),f=r("b622"),l=r("2d00"),p=f("isConcatSpreadable"),v=9007199254740991,m="Maximum allowed index exceeded",y=l>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),b=u("concat"),C=function(t){if(!o(t))return!1;var e=t[p];return void 0!==e?!!e:n(t)},g=!y||!b;a({target:"Array",proto:!0,forced:g},{concat:function(t){var e,r,a,i,n,o=c(this),u=h(o,0),f=0;for(e=-1,a=arguments.length;e<a;e++)if(n=-1===e?o:arguments[e],C(n)){if(i=s(n.length),f+i>v)throw TypeError(m);for(r=0;r<i;r++,f++)r in n&&d(u,f,n[r])}else{if(f>=v)throw TypeError(m);d(u,f++,n)}return u.length=f,u}})},"9bdd":function(t,e,r){var a=r("825a"),i=r("2a62");t.exports=function(t,e,r,n){try{return n?e(a(r)[0],r[1]):e(r)}catch(o){throw i(t),o}}},a630:function(t,e,r){var a=r("23e7"),i=r("4df4"),n=r("1c7e"),o=!n((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:o},{from:i})},a640:function(t,e,r){"use strict";var a=r("d039");t.exports=function(t,e){var r=[][t];return!!r&&a((function(){r.call(null,e||function(){throw 1},1)}))}},ae40:function(t,e,r){var a=r("83ab"),i=r("d039"),n=r("5135"),o=Object.defineProperty,c={},s=function(t){throw t};t.exports=function(t,e){if(n(c,t))return c[t];e||(e={});var r=[][t],d=!!n(e,"ACCESSORS")&&e.ACCESSORS,h=n(e,0)?e[0]:s,u=n(e,1)?e[1]:void 0;return c[t]=!!r&&!i((function(){if(d&&!a)return!0;var t={length:-1};d?o(t,1,{enumerable:!0,get:s}):t[1]=1,r.call(t,h,u)}))}},b0c0:function(t,e,r){var a=r("83ab"),i=r("9bf2").f,n=Function.prototype,o=n.toString,c=/^\s*function ([^ (]*)/,s="name";a&&!(s in n)&&i(n,s,{configurable:!0,get:function(){try{return o.call(this).match(c)[1]}catch(t){return""}}})},e0ff:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{position:"relative"}},[r("div",{ref:"pixi_area",staticStyle:{position:"absolute",width:"320px",height:"240px"}}),r("div",{staticStyle:{position:"absolute",left:"10px",top:"10px","background-color":"#0000ff66",color:"#fff"}},[t._v("矢印キーで移動")])])},i=[],n=(r("d3b7"),r("6062"),r("3ca3"),r("ddb0"),r("2b0e")),o=r("22a2"),c=(r("99af"),r("18a5"),r("3835")),s=r("d4ec"),d=r("bee2"),h=r("257e"),u=r("262e"),f=r("2caf"),l=function(t){Object(u["a"])(r,t);var e=Object(f["a"])(r);function r(t,a){var i;return Object(s["a"])(this,r),i=e.call(this),i.sheet=t,i.routine=a,i.animationFrame=0,i._currentDirection=2,i.animationStep=0,a.character=Object(h["a"])(i),i.body=new o["i"](t.textures["character-2-0"]),i.body.anchor.set(.5,.5),i.addChild(i.body),i.shadow=new o["c"],i.shadow.lineStyle(0),i.shadow.beginFill(0,1),i.shadow.drawEllipse(0,28,16,10),i.shadow.endFill(),i.shadow.alpha=.5,i.addChildAt(i.shadow,0),i}return Object(d["a"])(r,[{key:"currentDirection",get:function(){return this._currentDirection},set:function(t){this._currentDirection=t,this.syncTexture()}},{key:"syncTexture",value:function(){this.body.texture=this.sheet.textures["character-".concat(this.currentDirection,"-").concat(3===this.animationStep?1:this.animationStep)]}},{key:"update",value:function(){this.routine.update(),this.zIndex=this.position.y,++this.animationFrame,this.animationFrame>30&&(this.animationFrame=0,this.animationStep=(this.animationStep+1)%4,this.syncTexture())}}]),r}(o["b"]),p=function t(){Object(s["a"])(this,t)},v=37,m=38,y=39,b=40,C=function(t,e){var r=.7*e;switch(t){case 1:return[-r,r];case 2:return[0,e];case 3:return[r,r];case 4:return[-e,0];case 6:return[e,0];case 7:return[-r,-r];case 8:return[0,-e];case 9:return[r,-r]}return[0,0]},g=function(t){Object(u["a"])(r,t);var e=Object(f["a"])(r);function r(t){var a;return Object(s["a"])(this,r),a=e.call(this),a.pressedKeyCodeSet=t,a}return Object(d["a"])(r,[{key:"update",value:function(){var t=null;if(this.pressedKeyCodeSet.has(v)?t=this.pressedKeyCodeSet.has(b)?1:this.pressedKeyCodeSet.has(m)?7:4:this.pressedKeyCodeSet.has(y)?t=this.pressedKeyCodeSet.has(b)?3:this.pressedKeyCodeSet.has(m)?9:6:this.pressedKeyCodeSet.has(m)?t=8:this.pressedKeyCodeSet.has(b)&&(t=2),null!=t){this.character.currentDirection=t;var e=C(this.character.currentDirection,1),r=Object(c["a"])(e,2),a=r[0],i=r[1];this.character.position.x+=a,this.character.position.y+=i}}}]),r}(p),w=function(t){Object(u["a"])(r,t);var e=Object(f["a"])(r);function r(){var t,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60;return Object(s["a"])(this,r),t=e.call(this),t.isMoving=a,t.frameCountToWait=i,t.frameCountToMove=n,t}return Object(d["a"])(r,[{key:"update",value:function(){if(this.isMoving){var t=C(this.character.currentDirection,.6),e=Object(c["a"])(t,2),r=e[0],a=e[1];this.character.position.x+=r,this.character.position.y+=a,--this.frameCountToWait,this.frameCountToWait<=0&&(this.frameCountToWait=0,this.frameCountToMove=60+30*Math.floor(3*Math.random()),this.isMoving=!1)}else--this.frameCountToMove,this.frameCountToMove<=0&&(this.frameCountToMove=0,this.frameCountToWait=60,this.character.currentDirection=[1,2,3,4,6,7,8,9][Math.floor(8*Math.random())],this.isMoving=!0)}}]),r}(p),x=(r("4160"),r("159b"),function(t){Object(u["a"])(r,t);var e=Object(f["a"])(r);function r(t){var a;Object(s["a"])(this,r),a=e.call(this),a.texture=t,a.horizontalGridNum=30,a.verticalGridNum=30,a.targetCharacter=null,a.characters=[],a.sortableChildren=!0,a.fieldContainer=new o["e"],a.fieldContainer.zIndex=-1e3;var i=t.clone();i.frame=new o["g"](0,0,16,16);for(var n=0;n<a.verticalGridNum;++n)for(var c=0;c<a.horizontalGridNum;++c){var d=o["i"].from(i);d.position=new o["f"](16*c,16*n),a.fieldContainer.addChild(d)}var h=t.clone();h.frame=new o["g"](96,64,16,16);var u=t.clone();u.frame=new o["g"](112,64,16,16);for(var f=1;f<a.verticalGridNum-1;++f){var l=o["i"].from(h);l.position=new o["f"](0,16*f),a.fieldContainer.addChild(l);var p=o["i"].from(u);p.position=new o["f"](16*a.horizontalGridNum-16,16*f),a.fieldContainer.addChild(p)}var v=t.clone();v.frame=new o["g"](96,96,16,16);var m=t.clone();m.frame=new o["g"](112,96,16,16);for(var y=1;y<a.horizontalGridNum-1;++y){var b=o["i"].from(v);b.position=new o["f"](16*y,0),a.fieldContainer.addChild(b);var C=o["i"].from(m);C.position=new o["f"](16*y,16*a.verticalGridNum-16),a.fieldContainer.addChild(C)}var g=t.clone();g.frame=new o["g"](96,48,16,16);var w=o["i"].from(g);w.position=new o["f"](0,0),a.fieldContainer.addChild(w);var x=t.clone();x.frame=new o["g"](112,48,16,16);var S=o["i"].from(x);S.position=new o["f"](16*a.horizontalGridNum-16,0),a.fieldContainer.addChild(S);var j=t.clone();j.frame=new o["g"](96,80,16,16);var A=o["i"].from(j);A.position=new o["f"](0,16*a.verticalGridNum-16),a.fieldContainer.addChild(A);var O=t.clone();O.frame=new o["g"](112,80,16,16);var M=o["i"].from(O);M.position=new o["f"](16*a.horizontalGridNum-16,16*a.verticalGridNum-16),a.fieldContainer.addChild(M);var E=t.clone();E.frame=new o["g"](32,0,64,80);var T=o["i"].from(E);return T.position=new o["f"](16*a.horizontalGridNum/2-32,16*a.verticalGridNum/2-40),a.fieldContainer.addChild(T),a.addChild(a.fieldContainer),a}return Object(d["a"])(r,[{key:"addCharacter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.characters.push(t),e&&(this.targetCharacter=t),this.addChild(t)}},{key:"update",value:function(){this.characters.forEach((function(t){return t.update()}));var t=224,e=96,r=144,a=96;if(this.targetCharacter){var i=this.targetCharacter.x+this.x;i>t?this.x=-(this.targetCharacter.x-t):i<e&&(this.x=-(this.targetCharacter.x-e));var n=this.targetCharacter.y+this.y;n>r?this.y=-(this.targetCharacter.y-r):n<a&&(this.y=-(this.targetCharacter.y-a))}this.x=Math.floor(Math.min(0,Math.max(-(16*this.horizontalGridNum-320),this.x))),this.y=Math.floor(Math.min(0,Math.max(-(16*this.verticalGridNum-240),this.y)))}}]),r}(o["b"])),S=n["default"].extend({data:function(){return{pixiApp:null,field:null,pressedKeyCodeSet:new Set,id:0}},mounted:function(){var t=this;this.id=Math.floor(100*Math.random()),o["k"].RESOLUTION=window.devicePixelRatio,o["k"].SCALE_MODE=o["h"].NEAREST,window.onkeydown=this.onKeyDown,window.onkeyup=this.onKeyUp;var e={width:320,height:240};this.pixiApp=new o["a"](e);var r=this.$refs["pixi_area"];r.appendChild(this.pixiApp.view);var a=new o["i"](o["j"].WHITE);a.width=320,a.height=240,a.tint=13421772,this.pixiApp.stage.addChild(a),o["l"].clearTextureCache(),o["d"].shared.reset().add("/arpg-sample/images/chara01.json").add("/arpg-sample/images/chara02.json").add("/arpg-sample/images/mapchip.png").load((function(){var e=o["d"].shared.resources["/arpg-sample/images/mapchip.png"].texture;t.field=new x(e),t.pixiApp.stage.addChild(t.field);var r=new l(o["d"].shared.resources["/arpg-sample/images/chara01.json"].spritesheet,new g(t.pressedKeyCodeSet));r.position.set(180,110),t.field.addCharacter(r,!0);var a=new l(o["d"].shared.resources["/arpg-sample/images/chara02.json"].spritesheet,new w);a.position.set(140,90),t.field.addCharacter(a)})),this.pixiApp.ticker.add(this.update)},methods:{onKeyDown:function(t){this.pressedKeyCodeSet.add(t.keyCode)},onKeyUp:function(t){this.pressedKeyCodeSet["delete"](t.keyCode)},update:function(t){null!=this.field&&this.field.update()}},beforeDestroy:function(){console.log("bdd"),this.pixiApp.destroy(!0)},components:{},computed:{},props:[]}),j=S,A=r("2877"),O=Object(A["a"])(j,a,i,!1,null,"ee4bc082",null);e["default"]=O.exports},fb6a:function(t,e,r){"use strict";var a=r("23e7"),i=r("861d"),n=r("e8b5"),o=r("23cb"),c=r("50c4"),s=r("fc6a"),d=r("8418"),h=r("b622"),u=r("1dde"),f=r("ae40"),l=u("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),v=h("species"),m=[].slice,y=Math.max;a({target:"Array",proto:!0,forced:!l||!p},{slice:function(t,e){var r,a,h,u=s(this),f=c(u.length),l=o(t,f),p=o(void 0===e?f:e,f);if(n(u)&&(r=u.constructor,"function"!=typeof r||r!==Array&&!n(r.prototype)?i(r)&&(r=r[v],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return m.call(u,l,p);for(a=new(void 0===r?Array:r)(y(p-l,0)),h=0;l<p;l++,h++)l in u&&d(a,h,u[l]);return a.length=h,a}})}}]);
//# sourceMappingURL=chunk-250b4a3b.049b4621.js.map