(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-363cc9c1"],{"99af":function(e,t,i){"use strict";var a=i("23e7"),r=i("d039"),n=i("e8b5"),s=i("861d"),o=i("7b0b"),c=i("50c4"),h=i("8418"),d=i("65f0"),u=i("1dde"),p=i("b622"),l=i("2d00"),f=p("isConcatSpreadable"),y=9007199254740991,w="Maximum allowed index exceeded",S=l>=51||!r((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),m=u("concat"),b=function(e){if(!s(e))return!1;var t=e[f];return void 0!==t?!!t:n(e)},C=!S||!m;a({target:"Array",proto:!0,forced:C},{concat:function(e){var t,i,a,r,n,s=o(this),u=d(s,0),p=0;for(t=-1,a=arguments.length;t<a;t++)if(n=-1===t?s:arguments[t],b(n)){if(r=c(n.length),p+r>y)throw TypeError(w);for(i=0;i<r;i++,p++)i in n&&h(u,p,n[i])}else{if(p>=y)throw TypeError(w);h(u,p++,n)}return u.length=p,u}})},b186:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{position:"relative"}},[i("div",{ref:"pixi_area",staticStyle:{position:"absolute",width:"320px",height:"240px"}}),i("div",{staticStyle:{position:"absolute",left:"10px",top:"10px","background-color":"#0000ff66",color:"#fff"}},[e._v("矢印キーで移動")])])},r=[],n=(i("99af"),i("d3b7"),i("6062"),i("3ca3"),i("18a5"),i("ddb0"),i("d4ec")),s=i("bee2"),o=i("262e"),c=i("2caf"),h=i("2b0e"),d=i("22a2"),u=function(e){Object(o["a"])(i,e);var t=Object(c["a"])(i);function i(e){var a;return Object(n["a"])(this,i),a=t.call(this),a.sheet=e,a.animationFrame=0,a._currentDirection=2,a.animationStep=0,a.body=new d["Sprite"](e.textures["character-2-0"]),a.body.anchor.set(.5,.5),a.addChild(a.body),a.shadow=new d["Graphics"],a.shadow.lineStyle(0),a.shadow.beginFill(0,1),a.shadow.drawEllipse(0,28,16,10),a.shadow.endFill(),a.shadow.alpha=.5,a.addChildAt(a.shadow,0),a}return Object(s["a"])(i,[{key:"currentDirection",get:function(){return this._currentDirection},set:function(e){this._currentDirection=e,this.syncTexture()}},{key:"syncTexture",value:function(){this.body.texture=this.sheet.textures["character-".concat(this.currentDirection,"-").concat(3===this.animationStep?1:this.animationStep)]}},{key:"update",value:function(){++this.animationFrame,this.animationFrame>30&&(this.animationFrame=0,this.animationStep=(this.animationStep+1)%4,this.syncTexture())}}]),i}(d["Container"]),p=37,l=38,f=39,y=40,w=h["default"].extend({data:function(){return{chara:null,pressedKeyCodeSet:new Set}},mounted:function(){var e=this;d["settings"].RESOLUTION=window.devicePixelRatio,d["settings"].SCALE_MODE=d["SCALE_MODES"].NEAREST,window.onkeydown=this.onKeyDown,window.onkeyup=this.onKeyUp;var t={width:320,height:240},i=new d["Application"](t),a=this.$refs["pixi_area"];a.appendChild(i.view);var r=new d["Sprite"](d["Texture"].WHITE);r.width=320,r.height=240,r.tint=13421772,i.stage.addChild(r),d["Loader"].shared.reset().add("/arpg-sample/images/chara01.json").load((function(){d["Loader"].shared.resources["/arpg-sample/images/chara01.json"].spritesheet;e.chara=new u(d["Loader"].shared.resources["/arpg-sample/images/chara01.json"].spritesheet),e.chara.position.set(160,120),i.stage.addChild(e.chara)})),i.ticker.add((function(t){var i;e.updateCharaState(),null===(i=e.chara)||void 0===i||i.update()}))},methods:{onKeyDown:function(e){console.log(e.keyCode),this.pressedKeyCodeSet.add(e.keyCode)},onKeyUp:function(e){this.pressedKeyCodeSet["delete"](e.keyCode)},updateCharaState:function(){var e=1,t=.7,i=0,a=0;this.pressedKeyCodeSet.has(p)?this.pressedKeyCodeSet.has(y)?(this.chara.currentDirection=1,i=-t,a=t):this.pressedKeyCodeSet.has(l)?(this.chara.currentDirection=7,i=-t,a=-t):(this.chara.currentDirection=4,i=-e):this.pressedKeyCodeSet.has(f)?this.pressedKeyCodeSet.has(y)?(this.chara.currentDirection=3,i=t,a=t):this.pressedKeyCodeSet.has(l)?(this.chara.currentDirection=9,i=t,a=-t):(this.chara.currentDirection=6,i=+e):this.pressedKeyCodeSet.has(l)?(this.chara.currentDirection=8,a=-e):this.pressedKeyCodeSet.has(y)&&(this.chara.currentDirection=2,a=e),0!=i&&(this.chara.position.x+=i),0!=a&&(this.chara.position.y+=a)}},components:{},computed:{},props:[]}),S=w,m=i("2877"),b=Object(m["a"])(S,a,r,!1,null,"593fc81f",null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-363cc9c1.0744119b.js.map