(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60688dd0"],{1219:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("a630"),a("d3b7"),a("6062"),a("3ca3"),a("ddb0");var s=a("d4ec"),i=a("bee2"),n=function(){function e(){Object(s["a"])(this,e),this.lastPressedKeyCodeSet=new Set,this.nowPressedKeyCodeSet=new Set}return Object(i["a"])(e,[{key:"onKeyDown",value:function(e){this.nowPressedKeyCodeSet.add(e)}},{key:"onKeyUp",value:function(e){this.nowPressedKeyCodeSet["delete"](e)}},{key:"endTurn",value:function(){this.lastPressedKeyCodeSet=new Set(Array.from(this.nowPressedKeyCodeSet))}},{key:"isPressing",value:function(e){return this.nowPressedKeyCodeSet.has(e)}},{key:"isPressed",value:function(e){return this.nowPressedKeyCodeSet.has(e)&&!this.lastPressedKeyCodeSet.has(e)}},{key:"isReleased",value:function(e){return!this.nowPressedKeyCodeSet.has(e)&&this.lastPressedKeyCodeSet.has(e)}},{key:"reset",value:function(){this.lastPressedKeyCodeSet.clear(),this.nowPressedKeyCodeSet.clear()}}]),e}()},"4de4":function(e,t,a){"use strict";var s=a("23e7"),i=a("b727").filter,n=a("1dde"),r=a("ae40"),o=n("filter"),l=r("filter");s({target:"Array",proto:!0,forced:!o||!l},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},a3fd:function(e,t,a){},b74a:function(e){e.exports=JSON.parse('{"length":3200,"layout":[[575.5,201.5,"bl"],[504,201,"bl"],[359,200.5,"bl"],[431.5,197.5,"bl"],[730.7999999999925,199.5,"r"],[808.7999999999925,201.5,"r"],[881.7999999999925,203,"r"],[1012.5,199,"g"],[1172.5,198.5,"g"],[1090,197.5,"g"],[1546.9000000000199,197.5,"y"],[1636.4000000000199,197,"y"],[1715.9000000000199,196,"y"],[1831,197,"bl"],[1302.1999999999946,198.5,"b"],[1402.1999999999946,200,"b"],[2217,117,"bl"],[2650,127.5,"lb"],[2765.5,57,"w"],[2551,198,"p"],[1884.5,116,"bl"],[1947,37,"bl"],[2064.5,34.5,"bl"],[2164,32,"bl"],[2269.5,199,"bl"],[2375.500000000017,199,"bl"],[2846,89,"r"],[2883.5,132.5,"g"],[2926.5,180.5,"b"],[2986.5,128.5,"y"],[3046.5,73,"lb"],[3101.5,131.5,"p"],[3139.2000000000094,135,"bl"],[3175.7000000000094,137,"w"],[3209.7000000000094,140.5,"bl"],[3247.7000000000094,141.5,"w"]]}')},d81d:function(e,t,a){"use strict";var s=a("23e7"),i=a("b727").map,n=a("1dde"),r=a("ae40"),o=n("map"),l=r("map");s({target:"Array",proto:!0,forced:!o||!l},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},e177f:function(e,t,a){"use strict";a("a3fd")},e93a:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{position:"relative"}},[a("div",{ref:"pixi_area",staticClass:"canvas",on:{click:e.onClickCanvas}},[null!=e.tipsText?a("div",{staticClass:"tips"},[a("div",{staticClass:"message"},[e._v(e._s(e.tipsText))])]):e._e()]),null!=e.field&&e.isEditorMode?[a("b-button",{staticStyle:{margin:"4px"},on:{click:e.onClickToggleEditing}},[e._v(e._s(e.editing?"再生":"エディット"))]),a("b-button",{staticStyle:{margin:"4px"},on:{click:e.onClickLoad}},[e._v("読み込み")]),a("b-button",{staticStyle:{margin:"4px"},on:{click:e.onClickSave}},[e._v("保存")]),a("div",{staticStyle:{"margin-top":"8px","margin-bottom":"8px"}},e._l(e.editingInfo.stageInfos,(function(t,s){return a("span",{key:s,staticClass:"stage-select",class:{focused:s===e.editingInfo.selectedStageInfoIndex},on:{click:function(t){return e.onClickStage(s)}}},[e._v("ステージ"+e._s(s))])})),0),a("div",[a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.field.maxLength,expression:"field.maxLength",modifiers:{number:!0}}],attrs:{id:"fieldLength",type:"number",step:"1"},domProps:{value:e.field.maxLength},on:{input:function(t){t.target.composing||e.$set(e.field,"maxLength",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),a("label",{attrs:{for:"fieldLength"}},[e._v("ステージの長さ")])]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.field.x,expression:"field.x",modifiers:{number:!0}}],staticStyle:{width:"400px"},attrs:{id:"fieldX",type:"range",value:"0",max:"0",min:-e.field.maxLength},domProps:{value:e.field.x},on:{input:e.onFieldXChanged,__r:function(t){e.$set(e.field,"x",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),a("label",{attrs:{for:"fieldX"}},[e._v(e._s(e.field.x))])]),a("div",[a("img",{staticClass:"icon-button",class:{focused:"r"===e.editingInfo.selectedColor},attrs:{src:"/arpg-sample/images/game/01/bubble-r.png"},on:{click:function(t){return e.onColorSelected("r")}}}),a("img",{staticClass:"icon-button",class:{focused:"g"===e.editingInfo.selectedColor},attrs:{src:"/arpg-sample/images/game/01/bubble-g.png"},on:{click:function(t){return e.onColorSelected("g")}}}),a("img",{staticClass:"icon-button",class:{focused:"b"===e.editingInfo.selectedColor},attrs:{src:"/arpg-sample/images/game/01/bubble-b.png"},on:{click:function(t){return e.onColorSelected("b")}}}),a("img",{staticClass:"icon-button",class:{focused:"y"===e.editingInfo.selectedColor},attrs:{src:"/arpg-sample/images/game/01/bubble-y.png"},on:{click:function(t){return e.onColorSelected("y")}}}),a("img",{staticClass:"icon-button",class:{focused:"lb"===e.editingInfo.selectedColor},attrs:{src:"/arpg-sample/images/game/01/bubble-lb.png"},on:{click:function(t){return e.onColorSelected("lb")}}}),a("img",{staticClass:"icon-button",class:{focused:"p"===e.editingInfo.selectedColor},attrs:{src:"/arpg-sample/images/game/01/bubble-p.png"},on:{click:function(t){return e.onColorSelected("p")}}}),a("img",{staticClass:"icon-button",class:{focused:"w"===e.editingInfo.selectedColor},attrs:{src:"/arpg-sample/images/game/01/bubble-w.png"},on:{click:function(t){return e.onColorSelected("w")}}}),a("img",{staticClass:"icon-button",class:{focused:"bl"===e.editingInfo.selectedColor},attrs:{src:"/arpg-sample/images/game/01/bubble-bl.png"},on:{click:function(t){return e.onColorSelected("bl")}}}),a("img",{staticClass:"icon-button",class:{focused:null===e.editingInfo.selectedColor},attrs:{src:"/arpg-sample/images/game/01/trash.png"},on:{click:function(t){return e.onColorSelected(null)}}})])]:e._e()],2)},i=[],n=(a("4de4"),a("4160"),a("d81d"),a("18a5"),a("159b"),a("96cf"),a("262e")),r=a("2caf"),o=a("d4ec"),l=a("bee2"),u=a("2b0e"),d=a("22a2"),c=a("1219"),p=a("b74a"),g=2,m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now();Object(o["a"])(this,e),this.oldNow=t,this.ms=0,this.counter=0,this.averageMs=0}return Object(l["a"])(e,[{key:"checkPoint",value:function(){var e=performance.now();this.ms+=e-this.oldNow,this.oldNow=e,++this.counter,this.counter>=60&&(this.averageMs=this.ms/this.counter,this.counter=0,this.ms=0)}}]),e}(),h=function e(t,a){Object(o["a"])(this,e),this.message=t,this.x=a},b=function(){function e(){Object(o["a"])(this,e),this.tipsList=[],this.tipsList.push(new h("Spaceキーか↑キーを押すと浮上、\n離すと潜水するよ。",0)),this.tipsList.push(new h("黒い泡に触れて酸素を補給しよう。",200)),this.tipsList.push(new h("連続して泡を集めるとコンボカウントが上がるよ。",400)),this.tipsList.push(new h("赤い泡は赤くなってから触れよう。\nZキーを押している間は赤くなるよ。",550)),this.tipsList.push(new h("Xキーを押すと緑色になれるよ。",875)),this.tipsList.push(new h("Cキーを押すと青くなれるよ。",1150)),this.tipsList.push(new h("ZキーとXキーを一緒に押すと黄色くなれるよ。",1400)),this.tipsList.push(new h("浮上しながら泡を集めよう。",1700)),this.tipsList.push(new h("潜水しながら泡を集めよう。",2050)),this.tipsList.push(new h("Z, X, Cを組み合わせて一緒に押すと色々な色になるよ。試してみよう。",2320)),this.tipsList.push(new h("チュートリアルはここまで。\n本編に乞うご期待。",3200))}return Object(l["a"])(e,[{key:"checkTips",value:function(e){return this.tipsList.length>0&&this.tipsList[0].x<=-e?this.tipsList.shift().message:null}}]),e}(),f=function(e){Object(n["a"])(a,e);var t=Object(r["a"])(a);function a(e){var s;Object(o["a"])(this,a),s=t.call(this),s.field=e,s.score=0,s.numSprites=[];for(var i=0;i<5;++i){var n=d["Sprite"].from("/arpg-sample/images/game/01/num0-s.png");n.anchor.set(1,1),n.position.set(20*-i,0),s.numSprites.push(n),s.addChild(n)}return s.refreshNumber(),s}return Object(l["a"])(a,[{key:"update",value:function(){this.score!=this.field.score&&(this.score=this.field.score,this.refreshNumber())}},{key:"refreshNumber",value:function(){for(var e=0;e<5;++e){var t=Math.pow(10,e),a=Math.floor(this.score/t)%10,s=this.numSprites[e];s.visible=0===e||this.score>=t,s.texture=d["Loader"].shared.resources["/arpg-sample/images/game/01/num".concat(a,"-s.png")].texture}}}]),a}(d["Container"]),v=function(e){Object(n["a"])(a,e);var t=Object(r["a"])(a);function a(e){var s;Object(o["a"])(this,a),s=t.call(this),s.field=e,s.comboCount=0,s.container=new d["Container"],s.container.position.set(0,-26),s.addChild(s.container);var i=d["Sprite"].from("/arpg-sample/images/game/01/combo.png");return i.anchor.set(.5,.5),i.position.set(0,0),s.addChild(i),s.num1=d["Sprite"].from("/arpg-sample/images/game/01/num0.png"),s.num1.anchor.set(.5,.5),s.num1.position.set(0,0),s.container.addChild(s.num1),s.num2=d["Sprite"].from("/arpg-sample/images/game/01/num0.png"),s.num2.anchor.set(.5,.5),s.num2.position.set(-24,0),s.num2.visible=!1,s.container.addChild(s.num2),s.num3=d["Sprite"].from("/arpg-sample/images/game/01/num0.png"),s.num3.anchor.set(.5,.5),s.num3.position.set(-48,0),s.num3.visible=!1,s.container.addChild(s.num3),s.visible=!1,s}return Object(l["a"])(a,[{key:"update",value:function(){this.comboCount!=this.field.comboCount&&(this.comboCount=this.field.comboCount,this.refreshNumber(),this.comboCount>=2&&(this.visible=!0))}},{key:"refreshNumber",value:function(){var e=Math.floor(this.comboCount/1)%10,t=Math.floor(this.comboCount/10)%10,a=Math.floor(this.comboCount/100)%10;this.num1.texture=d["Loader"].shared.resources["/arpg-sample/images/game/01/num".concat(e,".png")].texture,this.num2.texture=d["Loader"].shared.resources["/arpg-sample/images/game/01/num".concat(t,".png")].texture,this.num3.texture=d["Loader"].shared.resources["/arpg-sample/images/game/01/num".concat(a,".png")].texture,this.comboCount<10?(this.container.x=0,this.num1.visible=!0,this.num2.visible=!1,this.num3.visible=!1):this.comboCount<100?(this.container.x=12,this.num1.visible=!0,this.num2.visible=!0,this.num3.visible=!1):this.comboCount<1e3&&(this.container.x=24,this.num1.visible=!0,this.num2.visible=!0,this.num3.visible=!0)}}]),a}(d["Container"]),x=function(e){Object(n["a"])(a,e);var t=Object(r["a"])(a);function a(e){var s;return Object(o["a"])(this,a),s=t.call(this),s.color=e,s.status="active",s.coroutine=null,s.anchor.set(.5,.5),s.texture=d["Loader"].shared.resources["/arpg-sample/images/game/01/bubble-".concat(e,".png")].texture,s}return Object(l["a"])(a,[{key:"break",value:function(e){this.status="deleting",this.coroutine=this.breakCoroutine(e)}},{key:"update",value:function(){null!=this.coroutine&&this.coroutine.next()}},{key:"breakCoroutine",value:regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<5)){e.next=10;break}return this.scale.x+=t?.1:-.1,this.scale.y+=t?.1:-.1,this.alpha-=.2,void(e.next=7);case 7:++a,e.next=1;break;case 10:this.status="deleted";case 11:case"end":return e.stop()}}),e,this)}))}]),a}(d["Sprite"]),C=35,k=205,y=50,w=90,S=88,M=67,I=38,L=32,P=-1.6,O=1.6,j=function(e){Object(n["a"])(a,e);var t=Object(r["a"])(a);function a(e){var s;return Object(o["a"])(this,a),s=t.call(this,d["Loader"].shared.resources["/arpg-sample/images/game/01/sakana-bl.png"].texture),s.inputManger=e,s.color="bl",s.ySpeed=0,s.coroutine=null,s.position.x=y,s.anchor.set(.5,.5),s}return Object(l["a"])(a,[{key:"update",value:function(){null!=this.coroutine&&this.coroutine.next().done&&(this.coroutine=null),this.refreshColor();var e=this.checkJump();e||this.y!==C||(this.ySpeed=0),this.ySpeed+=.08,this.ySpeed=Math.min(O,Math.max(this.ySpeed,P)),this.position.y+=this.ySpeed,this.rotation=.1*this.ySpeed}},{key:"checkJump",value:function(){return!(!this.inputManger.isPressing(I)&&!this.inputManger.isPressing(L))&&(this.ySpeed=P,!0)}},{key:"refreshColor",value:function(){var e=this.color,t=this.colorFromInput();e!=t&&(this.color=t,this.texture=d["Loader"].shared.resources["/arpg-sample/images/game/01/sakana-".concat(this.color,".png")].texture)}},{key:"damaged",value:function(){this.coroutine=this.damageCoroutine()}},{key:"damageCoroutine",value:regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.texture=d["Loader"].shared.resources["/arpg-sample/images/game/01/sakana-".concat(this.color,"-d.png")].texture,t=0;case 2:if(!(t<3)){e.next=24;break}return void(e.next=5);case 5:return void(e.next=7);case 7:return void(e.next=9);case 9:return void(e.next=11);case 11:return this.visible=!1,void(e.next=14);case 14:return void(e.next=16);case 16:return void(e.next=18);case 18:return void(e.next=20);case 20:this.visible=!0;case 21:++t,e.next=2;break;case 24:this.texture=d["Loader"].shared.resources["/arpg-sample/images/game/01/sakana-".concat(this.color,".png")].texture;case 25:case"end":return e.stop()}}),e,this)}))},{key:"colorFromInput",value:function(){return this.inputManger.isPressing(w)?this.inputManger.isPressing(S)?this.inputManger.isPressing(M)?"w":"y":this.inputManger.isPressing(M)?"p":"r":this.inputManger.isPressing(S)?this.inputManger.isPressing(M)?"lb":"g":this.inputManger.isPressing(M)?"b":"bl"}}]),a}(d["Sprite"]),A=function e(){Object(o["a"])(this,e),this.length=6400,this.layout=[]},T=function e(){Object(o["a"])(this,e),this.selectedColor=null,this.selectedStageInfoIndex=0,this.stageInfos=[new A,new A,new A,new A,new A]},_=function(e){Object(n["a"])(a,e);var t=Object(r["a"])(a);function a(e){var s;return Object(o["a"])(this,a),s=t.call(this),s.maxLength=6400,s.speed=-.9,s.oldX=0,s.bubblePlaces=[],s.bubbles=[],s.walls=[],s.score=0,s.comboCount=0,s.sortableChildren=!0,s.sakana=new j(e),s.sakana.y=120,s.sakana.zIndex=1,s.addChild(s.sakana),s.createWallByX(0),s.createWallByX(128),s.createWallByX(256),s}return Object(l["a"])(a,[{key:"update",value:function(){this.oldX=this.x,this.x+=this.speed,this.sakana.x-=this.speed,this.sakana.update(),this.sakana.y=Math.max(C,Math.min(k,this.sakana.y)),this.bubbles.forEach((function(e){return e.update()})),this.hitCheck(),this.createBubble(),this.updateWall(),this.bubbles=this.bubbles.filter((function(e){return"deleted"!=e.status||(e.parent.removeChild(e),!1)}))}},{key:"isEnded",value:function(){return-this.x>=this.maxLength}},{key:"createBubble",value:function(){var e=this,t=this.bubblePlaces.filter((function(t){return t[0].x>=320-e.oldX+32&&t[0].x<320-e.x+32}));t.forEach((function(t){var a=new x(t[1]);a.position=t[0],e.addChild(a),e.bubbles.push(a)}))}},{key:"createWallByX",value:function(e){var t=d["Sprite"].from("/arpg-sample/images/game/01/wave.png");t.x=e;var a=d["Sprite"].from("/arpg-sample/images/game/01/ground.png");a.anchor.set(0,1),a.y=240,a.x=e,this.addChild(t),this.addChild(a),this.walls.push(t),this.walls.push(a)}},{key:"updateWall",value:function(){var e=this;if(Math.floor(this.oldX/128)!=Math.floor(this.x/128)){this.createWallByX(128*-Math.floor(this.oldX/128)+320);var t=d["Sprite"].from("/arpg-sample/images/game/01/wave.png");t.x=128*-Math.floor(this.oldX/128)+320;var a=d["Sprite"].from("/arpg-sample/images/game/01/ground.png");a.anchor.set(0,1),a.y=240,a.x=128*-Math.floor(this.oldX/128)+320,this.addChild(t),this.addChild(a),this.walls.push(t),this.walls.push(a),this.walls=this.walls.filter((function(t){return!(t.x<-e.x-128)||(t.parent.removeChild(t),!1)}))}}},{key:"addBubble",value:function(e,t){this.bubblePlaces.push([t,e]),this.reload()}},{key:"removeBubble",value:function(e){this.bubblePlaces=this.bubblePlaces.filter((function(t){var a=Math.sqrt(Math.pow(t[0].x-e.x,2)+Math.pow(t[0].y-e.y,2));return a>12})),this.reload()}},{key:"hitCheck",value:function(){var e=this;this.bubbles.filter((function(e){return"active"==e.status})).forEach((function(t){var a=Math.sqrt(Math.pow(t.x-e.sakana.x,2)+Math.pow(t.y-e.sakana.y,2));a<28&&(e.sakana.color==t.color?(t["break"](!1),e.score+=100*e.calcComboRate(),++e.comboCount):(e.sakana.damaged(),t["break"](!0),e.comboCount=0))}))}},{key:"calcComboRate",value:function(){return Math.min(2,1+.1*this.comboCount)}},{key:"reload",value:function(){var e=this;this.sakana.x=-this.x+y,this.bubbles.forEach((function(e){e.parent.removeChild(e)})),this.bubbles=[],this.bubblePlaces.forEach((function(t){var a=t[0];if(a.x>=-e.x&&a.x<=320-e.x){var s=new x(t[1]);s.position=a,e.addChild(s),e.bubbles.push(s)}}))}},{key:"import",value:function(e){this.maxLength=e.length,this.bubblePlaces=e.layout.map((function(e){return[new d["Point"](e[0],e[1]),e[2]]})),this.x=0,this.reload()}},{key:"export",value:function(){var e=new A;return e.length=this.maxLength,e.layout=this.bubblePlaces.map((function(e){return[e[0].x,e[0].y,e[1]]})),e}}]),a}(d["Container"]),E=u["default"].extend({data:function(){return{pixiApp:null,inputManager:new c["a"],fpsCounter:new m,field:null,editingInfo:new T,editing:!0,scoreArea:null,comboArea:null,tipsManager:new b,tipsText:null,tipsTextDelay:0}},mounted:function(){var e=this;d["settings"].RESOLUTION=window.devicePixelRatio,d["settings"].SCALE_MODE=d["SCALE_MODES"].NEAREST,this.isEditorMode||(this.editing=!1),window.onkeydown=this.onKeyDown,window.onkeyup=this.onKeyUp;var t={width:640,height:480};this.pixiApp=new d["Application"](t),this.pixiApp.ticker.maxFPS=60,this.pixiApp.ticker.minFPS=60;var a=this.$refs["pixi_area"];a.appendChild(this.pixiApp.view);var s=new d["Sprite"](d["Texture"].WHITE);s.width=320,s.height=240,s.tint=3114440,this.pixiApp.stage.addChild(s),this.pixiApp.stage.scale.x=g,this.pixiApp.stage.scale.y=g,d["utils"].clearTextureCache(),d["Loader"].shared.reset().add("/arpg-sample/images/game/01/sakana-r.png").add("/arpg-sample/images/game/01/sakana-g.png").add("/arpg-sample/images/game/01/sakana-b.png").add("/arpg-sample/images/game/01/sakana-y.png").add("/arpg-sample/images/game/01/sakana-lb.png").add("/arpg-sample/images/game/01/sakana-p.png").add("/arpg-sample/images/game/01/sakana-w.png").add("/arpg-sample/images/game/01/sakana-bl.png").add("/arpg-sample/images/game/01/sakana-r-d.png").add("/arpg-sample/images/game/01/sakana-g-d.png").add("/arpg-sample/images/game/01/sakana-b-d.png").add("/arpg-sample/images/game/01/sakana-y-d.png").add("/arpg-sample/images/game/01/sakana-lb-d.png").add("/arpg-sample/images/game/01/sakana-p-d.png").add("/arpg-sample/images/game/01/sakana-w-d.png").add("/arpg-sample/images/game/01/sakana-bl-d.png").add("/arpg-sample/images/game/01/bubble-r.png").add("/arpg-sample/images/game/01/bubble-g.png").add("/arpg-sample/images/game/01/bubble-b.png").add("/arpg-sample/images/game/01/bubble-y.png").add("/arpg-sample/images/game/01/bubble-lb.png").add("/arpg-sample/images/game/01/bubble-p.png").add("/arpg-sample/images/game/01/bubble-w.png").add("/arpg-sample/images/game/01/bubble-bl.png").add("/arpg-sample/images/game/01/combo.png").add("/arpg-sample/images/game/01/num1.png").add("/arpg-sample/images/game/01/num2.png").add("/arpg-sample/images/game/01/num3.png").add("/arpg-sample/images/game/01/num4.png").add("/arpg-sample/images/game/01/num5.png").add("/arpg-sample/images/game/01/num6.png").add("/arpg-sample/images/game/01/num7.png").add("/arpg-sample/images/game/01/num8.png").add("/arpg-sample/images/game/01/num9.png").add("/arpg-sample/images/game/01/num0.png").add("/arpg-sample/images/game/01/num1-s.png").add("/arpg-sample/images/game/01/num2-s.png").add("/arpg-sample/images/game/01/num3-s.png").add("/arpg-sample/images/game/01/num4-s.png").add("/arpg-sample/images/game/01/num5-s.png").add("/arpg-sample/images/game/01/num6-s.png").add("/arpg-sample/images/game/01/num7-s.png").add("/arpg-sample/images/game/01/num8-s.png").add("/arpg-sample/images/game/01/num9-s.png").add("/arpg-sample/images/game/01/num0-s.png").add("/arpg-sample/images/game/01/wave.png").add("/arpg-sample/images/game/01/ground.png").load((function(){e.field=new _(e.inputManager),e.pixiApp.stage.addChild(e.field),e.scoreArea=new f(e.field),e.scoreArea.position.set(316,240),e.pixiApp.stage.addChild(e.scoreArea),e.comboArea=new v(e.field),e.comboArea.position.set(260,48),e.pixiApp.stage.addChild(e.comboArea),e.isEditorMode?e.onClickLoad():e.field["import"](p),e.pixiApp.ticker.add(e.update)}))},methods:{onKeyDown:function(e){null==this.tipsText&&this.inputManager.onKeyDown(e.keyCode)},onKeyUp:function(e){null!=this.tipsText&&this.tipsTextDelay<=0?this.tipsText=null:this.inputManager.onKeyUp(e.keyCode)},update:function(e){if(this.editing||null!=this.tipsText)this.tipsTextDelay=Math.max(0,this.tipsTextDelay-1);else if(!this.field.isEnded()){this.fpsCounter.checkPoint(),this.field.update(),this.scoreArea.update(),this.comboArea.update(),this.inputManager.endTurn();var t=this.tipsManager.checkTips(this.field.x);null!=t&&(this.tipsText=t,this.tipsTextDelay=30,this.inputManager.reset())}},onColorSelected:function(e){this.editingInfo.selectedColor=e},onClickCanvas:function(e){if(this.isEditorMode){var t=new d["Point"](e.clientX/g-this.field.position.x,e.clientY/g);null!=this.editingInfo.selectedColor?this.field.addBubble(this.editingInfo.selectedColor,t):this.field.removeBubble(t)}},onClickToggleEditing:function(){this.editing=!this.editing},onFieldXChanged:function(){this.field.reload()},onClickStage:function(e){this.editingInfo.selectedStageInfoIndex=e},onClickLoad:function(){var e=localStorage.getItem("game/01/stageInfos");null!=e&&(this.editingInfo.stageInfos=JSON.parse(e),this.field["import"](this.editingInfo.stageInfos[this.editingInfo.selectedStageInfoIndex]))},onClickSave:function(){this.editingInfo.stageInfos[this.editingInfo.selectedStageInfoIndex]=this.field["export"](),localStorage.setItem("game/01/stageInfos",JSON.stringify(this.editingInfo.stageInfos))},closeTips:function(){this.tipsText=null}},beforeDestroy:function(){this.pixiApp.destroy(!0)},components:{},computed:{isEditorMode:function(){return"1"==this.$route.query.editorMode}},props:[]}),K=E,X=(a("e177f"),a("2877")),N=Object(X["a"])(K,s,i,!1,null,"6646657a",null);t["default"]=N.exports}}]);
//# sourceMappingURL=chunk-60688dd0.bd83cd31.js.map