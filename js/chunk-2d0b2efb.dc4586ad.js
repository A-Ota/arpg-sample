(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b2efb"],{"25df":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{position:"relative"}},[a("div",{ref:"pixi_area",staticStyle:{position:"absolute",width:"320px",height:"240px"}}),a("div",{staticStyle:{position:"absolute",left:"10px",top:"10px","background-color":"#0000ff66",color:"#fff"}},[e._v("矢印キーで移動")])])},s=[],n=(a("99af"),a("d3b7"),a("6062"),a("3ca3"),a("18a5"),a("ddb0"),a("d4ec")),r=a("bee2"),o=a("262e"),h=a("2caf"),c=a("2b0e"),d=a("22a2"),u=function(e){Object(o["a"])(a,e);var t=Object(h["a"])(a);function a(e){var i;return Object(n["a"])(this,a),i=t.call(this),i.sheet=e,i.animationFrame=0,i._currentDirection=2,i.animationStep=0,i.body=new d["f"](e.textures["character-2-0"]),i.body.anchor.set(.5,.5),i.addChild(i.body),i.shadow=new d["c"],i.shadow.lineStyle(0),i.shadow.beginFill(0,1),i.shadow.drawEllipse(0,28,16,10),i.shadow.endFill(),i.shadow.alpha=.5,i.addChildAt(i.shadow,0),i}return Object(r["a"])(a,[{key:"currentDirection",get:function(){return this._currentDirection},set:function(e){this._currentDirection=e,this.syncTexture()}},{key:"syncTexture",value:function(){this.body.texture=this.sheet.textures["character-".concat(this.currentDirection,"-").concat(3===this.animationStep?1:this.animationStep)]}},{key:"update",value:function(){++this.animationFrame,this.animationFrame>30&&(this.animationFrame=0,this.animationStep=(this.animationStep+1)%4,this.syncTexture())}}]),a}(d["b"]),p=37,l=38,y=39,w=40,f=c["default"].extend({data:function(){return{chara:null,pressedKeyCodeSet:new Set}},mounted:function(){var e=this;d["h"].RESOLUTION=window.devicePixelRatio,d["h"].SCALE_MODE=d["e"].NEAREST,window.onkeydown=this.onKeyDown,window.onkeyup=this.onKeyUp;var t={width:320,height:240},a=new d["a"](t),i=this.$refs["pixi_area"];i.appendChild(a.view);var s=new d["f"](d["g"].WHITE);s.width=320,s.height=240,s.tint=13421772,a.stage.addChild(s),d["d"].shared.reset().add("/arpg-sample/images/chara01.json").load((function(){d["d"].shared.resources["/arpg-sample/images/chara01.json"].spritesheet;e.chara=new u(d["d"].shared.resources["/arpg-sample/images/chara01.json"].spritesheet),e.chara.position.set(160,120),a.stage.addChild(e.chara)})),a.ticker.add((function(t){var a;e.updateCharaState(),null===(a=e.chara)||void 0===a||a.update()}))},methods:{onKeyDown:function(e){console.log(e.keyCode),this.pressedKeyCodeSet.add(e.keyCode)},onKeyUp:function(e){this.pressedKeyCodeSet["delete"](e.keyCode)},updateCharaState:function(){var e=1,t=.7,a=0,i=0;this.pressedKeyCodeSet.has(p)?this.pressedKeyCodeSet.has(w)?(this.chara.currentDirection=1,a=-t,i=t):this.pressedKeyCodeSet.has(l)?(this.chara.currentDirection=7,a=-t,i=-t):(this.chara.currentDirection=4,a=-e):this.pressedKeyCodeSet.has(y)?this.pressedKeyCodeSet.has(w)?(this.chara.currentDirection=3,a=t,i=t):this.pressedKeyCodeSet.has(l)?(this.chara.currentDirection=9,a=t,i=-t):(this.chara.currentDirection=6,a=+e):this.pressedKeyCodeSet.has(l)?(this.chara.currentDirection=8,i=-e):this.pressedKeyCodeSet.has(w)&&(this.chara.currentDirection=2,i=e),0!=a&&(this.chara.position.x+=a),0!=i&&(this.chara.position.y+=i)}},components:{},computed:{},props:[]}),S=f,m=a("2877"),b=Object(m["a"])(S,i,s,!1,null,"7919a14e",null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-2d0b2efb.dc4586ad.js.map