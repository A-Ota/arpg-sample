(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20ec43"],{b186:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{position:"relative"}},[i("div",{ref:"pixi_area",staticStyle:{position:"absolute",width:"320px",height:"240px"}}),i("div",{staticStyle:{position:"absolute",left:"10px",top:"10px","background-color":"#0000ff66",color:"#fff"}},[e._v("矢印キーで移動")])])},s=[],n=(i("99af"),i("d3b7"),i("6062"),i("3ca3"),i("18a5"),i("ddb0"),i("d4ec")),r=i("bee2"),o=i("262e"),h=i("2caf"),c=i("2b0e"),d=i("22a2"),u=function(e){Object(o["a"])(i,e);var t=Object(h["a"])(i);function i(e){var a;return Object(n["a"])(this,i),a=t.call(this),a.sheet=e,a.animationFrame=0,a._currentDirection=2,a.animationStep=0,a.body=new d["i"](e.textures["character-2-0"]),a.body.anchor.set(.5,.5),a.addChild(a.body),a.shadow=new d["c"],a.shadow.lineStyle(0),a.shadow.beginFill(0,1),a.shadow.drawEllipse(0,28,16,10),a.shadow.endFill(),a.shadow.alpha=.5,a.addChildAt(a.shadow,0),a}return Object(r["a"])(i,[{key:"currentDirection",get:function(){return this._currentDirection},set:function(e){this._currentDirection=e,this.syncTexture()}},{key:"syncTexture",value:function(){this.body.texture=this.sheet.textures["character-".concat(this.currentDirection,"-").concat(3===this.animationStep?1:this.animationStep)]}},{key:"update",value:function(){++this.animationFrame,this.animationFrame>30&&(this.animationFrame=0,this.animationStep=(this.animationStep+1)%4,this.syncTexture())}}]),i}(d["b"]),p=37,l=38,y=39,w=40,f=c["default"].extend({data:function(){return{chara:null,pressedKeyCodeSet:new Set}},mounted:function(){var e=this;d["k"].RESOLUTION=window.devicePixelRatio,d["k"].SCALE_MODE=d["h"].NEAREST,window.onkeydown=this.onKeyDown,window.onkeyup=this.onKeyUp;var t={width:320,height:240},i=new d["a"](t),a=this.$refs["pixi_area"];a.appendChild(i.view);var s=new d["i"](d["j"].WHITE);s.width=320,s.height=240,s.tint=13421772,i.stage.addChild(s),d["d"].shared.reset().add("/arpg-sample/images/chara01.json").load((function(){d["d"].shared.resources["/arpg-sample/images/chara01.json"].spritesheet;e.chara=new u(d["d"].shared.resources["/arpg-sample/images/chara01.json"].spritesheet),e.chara.position.set(160,120),i.stage.addChild(e.chara)})),i.ticker.add((function(t){var i;e.updateCharaState(),null===(i=e.chara)||void 0===i||i.update()}))},methods:{onKeyDown:function(e){console.log(e.keyCode),this.pressedKeyCodeSet.add(e.keyCode)},onKeyUp:function(e){this.pressedKeyCodeSet["delete"](e.keyCode)},updateCharaState:function(){var e=1,t=.7,i=0,a=0;this.pressedKeyCodeSet.has(p)?this.pressedKeyCodeSet.has(w)?(this.chara.currentDirection=1,i=-t,a=t):this.pressedKeyCodeSet.has(l)?(this.chara.currentDirection=7,i=-t,a=-t):(this.chara.currentDirection=4,i=-e):this.pressedKeyCodeSet.has(y)?this.pressedKeyCodeSet.has(w)?(this.chara.currentDirection=3,i=t,a=t):this.pressedKeyCodeSet.has(l)?(this.chara.currentDirection=9,i=t,a=-t):(this.chara.currentDirection=6,i=+e):this.pressedKeyCodeSet.has(l)?(this.chara.currentDirection=8,a=-e):this.pressedKeyCodeSet.has(w)&&(this.chara.currentDirection=2,a=e),0!=i&&(this.chara.position.x+=i),0!=a&&(this.chara.position.y+=a)}},components:{},computed:{},props:[]}),S=f,m=i("2877"),C=Object(m["a"])(S,a,s,!1,null,"593fc81f",null);t["default"]=C.exports}}]);
//# sourceMappingURL=chunk-2d20ec43.821f2dab.js.map